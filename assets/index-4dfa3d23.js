class r extends window.HTMLElement{constructor(){super(),this.form=this.querySelector("form"),this.button=this.querySelector('[type="submit"]'),this.form.querySelector("[name=id]").disabled=!1,this.form.addEventListener("submit",this.submitHandler.bind(this))}async submitHandler(e){e.preventDefault(),this.button.classList.add("animate-pulse");const o=(t="javascript")=>({method:"POST",headers:{"X-Requested-With":"XMLHttpRequest",Accept:`application/${t}`},body:new FormData(this.form)});try{await fetch(`${window.routes.cart_add_url}`,o()),window.location=window.shopUrl+"/checkout"}catch(t){console.error(t)}}}class n extends HTMLElement{constructor(){super()}connectedCallback(){document.querySelectorAll("[data-parent-link]").forEach(e=>{e.addEventListener("mouseenter",()=>{e.classList.add("submenu-open")}),e.addEventListener("mouseleave",()=>{e.classList.remove("submenu-open")})})}}customElements.define("nav-bar",n);window.customElements.define("product-form",r);
