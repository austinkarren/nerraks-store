<nav-bar class="relative bg-white border-b border-gray-400 w-full flex items-center justify-between px-12 h-fit">
  <div class="flex items-center">
    <a href="{{ routes.root_url }}">
      <img src="{{ settings.logo  |  image_url: height: '50px' }}" width="100%" height="100%">
    </a>
    <p class="pl-4 text-xl font-bold">AA Carbide, Inc.</p>
  </div>
  <div>
    <ul class="flex">
      {% for link in linklists['main-menu'].links %}
        <li data-parent-link class="px-6 text-lg group py-5">
          <a class="cursor-pointer my-4">{{ link.title }}</a>
          <div class="absolute top-full left-0 border-t invisible group-hover:visible w-screen border-b border-gray-400 px-12 py-5 flex z-50 bg-white">
            <div class="flex flex-col pr-11 border-r border-gray-200 w-[500px]">
              {% for child_link in link.links %}
                <a class="py-2 hover:border-b-2 border-[#C30606] hover:font-bold w-fit mb-[-2px]" href="{{ child_link.url }}">
                  {{- child_link.title -}}
                </a>
              {% endfor %}
              {% if link.title == 'Router Bits' %}
                <a class="pt-4 underline text-sm font-semibold text-[#c30606] cursor-pointer hover:font-bold">Shop all router bits</a>
              {% elsif link.title == 'Saw Blades' %}
                <a class="pt-4 underline text-sm font-semibold text-[#c30606] cursor-pointer hover:font-bold">Shop all saw blades</a>
              {% endif %}
            </div>
            <div class="pl-10 w-full">
              {% if link.title == 'Saw Blades' %}
                {% render 'nav-blade-list', blade_list: section.settings.blade_list %}
              {% elsif link.title == 'Router Bits' %}
                {% render 'nav-bit-list', bit_list: section.settings.bit_list %}
              {% endif %}
            </div>
          </div>
        </li>
      {% endfor %}
    </ul>
  </div>
  {% comment %} CART ICON {% endcomment %}
  <div data-cart-icon class="cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="none" viewBox="0 0 24 24">
      <path fill="#000" fill-rule="evenodd" d="M9.5 19.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0 1a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM16.5 19.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0 1a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM3 4a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .476.348L9.37 14.5H17a.5.5 0 0 1 0 1H9.004a.5.5 0 0 1-.476-.348L5.135 4.5H3.5A.5.5 0 0 1 3 4Z" clip-rule="evenodd"/><path fill="#000" d="M8.5 13 6 6h13.337a.5.5 0 0 1 .48.637l-1.713 6a.5.5 0 0 1-.481.363H8.5Z"/>
    </svg>
  </div>
</nav-bar>

<style>
  .submenu-open::after {
    content: '';
    display: block;
    border-bottom: 2px solid rgb(199, 6, 6);
    width: 100%;
    margin-bottom: -2px;
  }
</style>

{% schema %}
{
  "name": "Navigation Menu",
  "settings": [
    {
      "type": "product_list",
      "id": "blade_list",
      "label": "Blade List",
      "limit": 4
    },
    {
      "type": "product_list",
      "id": "bit_list",
      "label": "Bit List",
      "limit": 4
    }
  ]
}
{% endschema %}
